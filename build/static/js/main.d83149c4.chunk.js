(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{307:function(e,t,a){e.exports=a.p+"static/media/logo.4cead3cc.png"},309:function(e,t,a){e.exports=a.p+"static/media/image2.ade0a065.jpg"},314:function(e,t,a){e.exports=a.p+"static/media/image1.02864c39.jpg"},364:function(e,t,a){e.exports=a(592)},592:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o="AUTH_TOKEN",c="/signup",i="/login",u="/drafts",m="/blog",s="/create-post",d=a(245),p=a(40),f=(a(369),a(331));var b=a(24),g=a(14),h=a(23),E=a(25),v=a(85),j=a(333);function y(){return!!localStorage.getItem(o)}var O=function(e){return"function"===typeof e||!1};O(/x/)||Uint8Array&&O(Uint8Array);function k(e){return JSON.parse(JSON.stringify(e))}Array.isArray;var C=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return y()?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:i,state:{from:e.location}}})}}))},w=a(121),x=a(124),S=a(27),I=a(630),N=a(631),$=a(624),T=a(647),P=a(307),A=a.n(P),B=a(625),D=a(627),F=a(628),W=a(629),M=a(626),z=(Object($.a)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},paper:{width:"80%",maxHeight:435}}}),function(){var e=Object(n.useState)(!0),t=Object(g.a)(e,2),a=t[0],l=t[1];return r.a.createElement(M.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:a},r.a.createElement(D.a,{id:"confirmation-dialog-title"},"Log Out Confirmation"),r.a.createElement(F.a,{dividers:!0},"Are you sure you want to logout? \ud83d\ude31"),r.a.createElement(W.a,null,r.a.createElement(B.a,{autoFocus:!0,onClick:function(){l(!1)},color:"default"},"Cancel"),r.a.createElement(B.a,{onClick:function(){l(!1),localStorage.removeItem(o),window.location.href="/"},color:"secondary"},"Log Out")))}),R=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement(B.a,{component:E.b,to:s},"Create New Post"),r.a.createElement(B.a,{component:E.b,to:u},"Drafts"),r.a.createElement(B.a,{onClick:function(){return l(!0)}},"Log Out"),a?r.a.createElement(z,null):null)},q=function(){return r.a.createElement("div",null,r.a.createElement(B.a,{component:E.b,to:m},"Blog"),r.a.createElement(B.a,{component:E.b,to:i},"Login"),r.a.createElement(B.a,{component:E.b,to:c},"Sign Up"))},L=Object($.a)(function(e){var t;return{appBar:{backgroundColor:"white"},logoIcon:{marginRight:"0.5em"},menuButton:{marginRight:e.spacing(2)},titleContainer:{textDecoration:"none"},title:(t={display:"none"},Object(S.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(S.a)(t,"color","rgba(48,56,64,.9)"),Object(S.a)(t,"fontSize","1.9rem"),Object(S.a)(t,"fontWeight",500),Object(S.a)(t,"fontFamily","Roboto,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol"),t),toolbarGutters:Object(S.a)({},e.breakpoints.up("md"),{margin:e.spacing(0,20)})}}),V=Object(v.f)(function(e){var t=e.location,a=(e.verify,L()),n=t.pathname.includes(c)||t.pathname.includes(i);return r.a.createElement("div",null,r.a.createElement(I.a,{position:"fixed",className:a.appBar},r.a.createElement(N.a,{classes:{gutters:n?a.toolbarGutters:""}},r.a.createElement(T.a,{component:E.b,className:a.titleContainer,to:"/",display:"flex",alignItems:"center"},r.a.createElement("img",{src:A.a,alt:"",width:"60px",className:a.logoIcon}),r.a.createElement(x.a,{className:a.title,variant:"h6"},"Real time feedo")),r.a.createElement(T.a,{component:"div",display:"flex",justifyContent:"flex-end",alignItems:"center",style:{marginLeft:"auto"}},y()?r.a.createElement(R,null):r.a.createElement(q,null)))))}),G=a(632),Q=Object($.a)({"@global":{"html , body , #root":{height:"100%"}},root:{display:"grid",gridTemplateRows:"64px 1fr",height:"100%"}}),U=Object(v.f)(function(e){var t=Q(),a=e.children,l=e.location.pathname,o=void 0===l?"":l;return o===i||o===c?r.a.createElement(n.Fragment,null,r.a.createElement(G.a,null),a):r.a.createElement("div",{className:t.root},r.a.createElement(G.a,null),r.a.createElement(V,null),r.a.createElement("div",null,a))}),K=a(22),H=a(157),J=a.n(H),Y=a(308),Z=a.n(Y);function _(e){var t=function(e){var t=Z()(e);if(!t.exp)return null;var a=new Date(0);return a.setUTCSeconds(t.exp),a}(e);return null!==t&&!(t.valueOf()>(new Date).valueOf()+0)}var X=a(648),ee=a(635),te=a(633),ae=a(634),ne=a(168),re=a.n(ne),le=a(309),oe=a.n(le);function ce(){var e=Object(h.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        id\n        name\n        email\n      }\n    }\n  }\n"]);return ce=function(){return e},e}function ie(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(te.a,{color:"inherit",href:"https://github.com/AnnaNarim/"},"ANNA NARIM Production")," ",(new Date).getFullYear(),".")}var ue=Object(b.b)(ce()),me=Object($.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(oe.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function se(e){var t=e.refreshTokenFn,a=e.location.state,l=(void 0===a?{}:a).from,o=void 0===l?{}:l,i=me(),u=Object(n.useState)(""),m=Object(g.a)(u,2),s=m[0],d=m[1],p=Object(n.useState)(""),f=Object(g.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(!1),j=Object(g.a)(E,2),y=j[0],O=j[1],k=Object(K.a)(ue,{onCompleted:function(e){var a=e.login;t&&t(a.token),O(!0),d(""),h("")}}),C=Object(g.a)(k,1)[0];return y?r.a.createElement(v.a,{to:o.pathname||"/"}):r.a.createElement(ae.a,{container:!0,component:"main",className:i.root},r.a.createElement(ae.a,{item:!0,xs:!1,sm:4,md:7,className:i.image}),r.a.createElement(ae.a,{item:!0,xs:12,sm:8,md:5,component:w.a,elevation:6,square:!0},r.a.createElement("div",{className:i.paper},r.a.createElement(X.a,{className:i.avatar},r.a.createElement(re.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),C({variables:{email:s,password:b}})}},r.a.createElement(ee.a,{value:s,onChange:function(e){return d(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(ee.a,{value:b,onChange:function(e){return h(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},"Sign In"),r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0},r.a.createElement(te.a,{href:c,variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(T.a,{mt:5},r.a.createElement(ie,null))))))}var de=a(30),pe=a(314),fe=a.n(pe);function be(){var e=Object(h.a)(["\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token\n      user {\n        id\n        name\n        email\n      }\n    }\n  }\n"]);return be=function(){return e},e}function ge(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(te.a,{color:"inherit",href:"https://github.com/AnnaNarim"},"ANNA NARIM Production")," ",(new Date).getFullYear(),".")}var he=Object(b.b)(be()),Ee=Object($.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(fe.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),ve={email:"",password:"",name:""};function je(e){var t=e.refreshTokenFn,a=e.location.state,l=(void 0===a?{}:a).from,o=void 0===l?{}:l,c=Ee(),u=Object(n.useState)(ve),m=Object(g.a)(u,2),s=m[0],d=m[1],p=s.name,f=s.email,b=s.password,h=Object(n.useState)(!1),E=Object(g.a)(h,2),j=E[0],y=E[1],O=Object(K.a)(he,{onCompleted:function(e){var a=e.signup;t&&t(a.token),y(!0),d(ve)}}),k=Object(g.a)(O,1)[0];if(j)return r.a.createElement(v.a,{to:o.pathname||"/"});var C=function(e){return d(Object(de.a)({},s,Object(S.a)({},e.target.name,e.target.value)))};return r.a.createElement(ae.a,{container:!0,component:"main",className:c.root},r.a.createElement(ae.a,{item:!0,xs:!1,sm:4,md:7,className:c.image}),r.a.createElement(ae.a,{item:!0,xs:12,sm:8,md:5,component:w.a,elevation:6,square:!0},r.a.createElement("div",{className:c.paper},r.a.createElement(X.a,{className:c.avatar},r.a.createElement(re.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:c.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),k({variables:Object(de.a)({},s)})}},r.a.createElement(ee.a,{value:p,onChange:C,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"User Name",name:"name",autoComplete:"name",autoFocus:!0}),r.a.createElement(ee.a,{value:f,onChange:C,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(ee.a,{value:b,onChange:C,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit},"Sign Up"),r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0},r.a.createElement(te.a,{href:i,variant:"body2"},"Already have an account!!!"))),r.a.createElement(T.a,{mt:5},r.a.createElement(ge,null))))))}var ye=a(636),Oe=a(637),ke=a(639),Ce=a(638),we=a(170),xe=a.n(we),Se=a(171),Ie=a.n(Se),Ne=a(172),$e=a.n(Ne),Te=a(173),Pe=a.n(Te),Ae=a(248),Be=a(315),De=a.n(Be),Fe=a(53),We=a.n(Fe),Me=a(52),ze=a.n(Me);function Re(){var e=Object(h.a)(["\n    mutation deletePost($id: ID!) {\n        deletePost(id: $id) {\n            id\n        }\n    }\n"]);return Re=function(){return e},e}var qe=Object(b.b)(Re()),Le=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),Ve=function(e){var t=e.title,a=e.onConfirm,l=e.onClose,o=Object(n.useState)(!0),c=Object(g.a)(o,2),i=c[0],u=c[1];return r.a.createElement(xe.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:i},r.a.createElement(Ie.a,{id:"confirmation-dialog-title"},"Log Out Confirmation"),r.a.createElement($e.a,{dividers:!0},"Are you sure you want delete ",t," post? \ud83d\ude31"),r.a.createElement(Pe.a,null,r.a.createElement(B.a,{autoFocus:!0,onClick:function(){u(!1),l()},color:"default"},"Cancel"),r.a.createElement(B.a,{onClick:function(){u(!1),a()},color:"secondary"},"Delete")))},Ge=function(e){var t=e.title,a=e.id,l=e.refresh,o=Le(),c=Object(n.useState)(!1),i=Object(g.a)(c,2),u=i[0],m=i[1],s=Object(K.a)(qe),d=Object(g.a)(s,2),p=d[0],f=d[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:o.backdrop,open:f},r.a.createElement(We.a,{color:"inherit"})),r.a.createElement(Ae.a,{color:"secondary",onClick:function(){return m(!0)}},r.a.createElement(De.a,null)),u?r.a.createElement(Ve,{title:t,onConfirm:function(){return p({variables:{id:a}}).then(function(){m(!1),l()})},onClose:function(){return m(!1)}}):null)},Qe=a(316),Ue=a.n(Qe),Ke=a(88),He=a.n(Ke);function Je(){var e=Object(h.a)(["\n    mutation updateDraft($id: ID!,$title: String!, $content: String!) {\n        updateDraft(id: $id,title : $title, content:$content ) {\n            id\n        }\n    }\n"]);return Je=function(){return e},e}var Ye=Object(b.b)(Je()),Ze=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),_e={isValid:!0,errorMsgs:{}},Xe=function(e){var t=e.title,a=e.content,l=e.onConfirm,o=e.onClose,c=Object(n.useState)(!0),i=Object(g.a)(c,2),u=i[0],m=i[1],s=Object(n.useState)({title:t,content:a}),d=Object(g.a)(s,2),p=d[0],f=d[1],b=Object(n.useState)(_e),h=Object(g.a)(b,2),E=h[0],v=h[1],j=p.title,y=p.content,O=(E.isValid,E.errorMsgs),k=void 0===O?{}:O;Object(n.useEffect)(function(){E.isValid||v(_e)},[p]);return r.a.createElement(xe.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:u},r.a.createElement(Ie.a,{id:"confirmation-dialog-title"},"Post Edit"),r.a.createElement($e.a,{dividers:!0},r.a.createElement(He.a,{autoFocus:!0,label:"Title",placeholder:"Title",error:Boolean(k.title),helperText:Boolean(k.title)?k.title:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:j,name:"title",onChange:function(e){var t=e.target;return f(Object(de.a)({},p,Object(S.a)({},t.name,t.value)))}}),r.a.createElement(He.a,{label:"Content",multiline:!0,rows:5,rowsMax:10,placeholder:"Content",error:Boolean(k.content),helperText:Boolean(k.content)?k.content:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:y,name:"content",onChange:function(e){var t=e.target;return f(Object(de.a)({},p,Object(S.a)({},t.name,t.value)))}})),r.a.createElement(Pe.a,null,r.a.createElement(B.a,{autoFocus:!0,onClick:function(){m(!1),o()},color:"default"},"Cancel"),r.a.createElement(B.a,{onClick:function(){var e=function(e){var t={};return e.title||(t.title="Title is required field"),e.content||(t.content="Content is required field"),{isValid:!Object.keys(t).length,errorMsgs:t}}(p);!0===e.isValid?(l(p),m(!1)):v(e)},color:"primary"},"Save")))},et=function(e){var t=e.title,a=e.id,l=e.content,o=e.refresh,c=Ze(),i=Object(n.useState)(!1),u=Object(g.a)(i,2),m=u[0],s=u[1],d=Object(K.a)(Ye),p=Object(g.a)(d,2),f=p[0],b=p[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:c.backdrop,open:b},r.a.createElement(We.a,{color:"inherit"})),r.a.createElement(Ae.a,{color:"primary",onClick:function(){return s(!0)}},r.a.createElement(Ue.a,null)),m?r.a.createElement(Xe,{title:t,content:l,onConfirm:function(e){return f({variables:Object(de.a)({},e,{id:a})}).then(function(){s(!1),o()})},onClose:function(){return s(!1)}}):null)},tt=a(6),at=a(174),nt=a.n(at),rt=a(175),lt=a.n(rt);function ot(){var e=Object(h.a)(["\n    mutation publish($id: ID!, $published :Boolean!) {\n        publish(id: $id, published:$published) {\n            id\n            published\n        }\n    }\n"]);return ot=function(){return e},e}var ct=Object(b.b)(ot()),it=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),ut=Object(tt.a)({switchBase:{color:"#fafafa","&$checked":{color:"rgb(26,148,49)"},"&$checked + $track":{backgroundColor:"rgb(26,148,49)"}},checked:{},track:{}})(lt.a),mt=function(e){var t=e.isPublished,a=e.id,l=e.refresh,o=it(),c=Object(K.a)(ct),i=Object(g.a)(c,2),u=i[0],m=i[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:o.backdrop,open:m},r.a.createElement(We.a,{color:"inherit"})),r.a.createElement(nt.a,{style:{marginRight:"auto"},control:r.a.createElement(ut,{checked:t,onChange:function(){u({variables:{id:a,published:!t}}).then(function(){l()})},name:"isDraft",color:"secondary"}),label:"Publish"}))},st=Object($.a)({root:{margin:15}});function dt(e){var t=e.isPublished,a=e.post,n=e.refresh,l=st(),o=a.title,c=a.id,i=a.content;a.author;return r.a.createElement(ye.a,{className:l.root,elevation:3},r.a.createElement(Oe.a,{component:E.b,to:"/post/".concat(c)},r.a.createElement(Ce.a,null,r.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0},o),r.a.createElement(x.a,{variant:"body2",color:"textSecondary",component:"p"},i))),r.a.createElement(ke.a,{style:{justifyContent:"flex-end"}},r.a.createElement(mt,{id:c,isPublished:t,refresh:n}),r.a.createElement(Ge,{title:o,id:c,refresh:n}),r.a.createElement(et,{title:o,id:c,content:i,refresh:n})))}var pt=a(216),ft=a(640),bt=a(641),gt=a(642),ht=a(643);function Et(){var e=Object(h.a)(["\n    query DraftsQuery {\n        drafts {\n            id\n            content\n            title\n            published\n            author {\n                name\n            }\n        }\n    }\n"]);return Et=function(){return e},e}var vt=Object(b.b)(Et()),jt=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1}}}),yt=Object(v.f)(function(e){var t=e.location.state,a=(void 0===t?{}:t).shouldRefetch,l=void 0!==a&&a,o=Object(n.useState)(l),c=Object(g.a)(o,2),i=c[0],u=c[1],m=jt(),s=Object(K.b)(vt,{options:{fetchPolicy:"network-only"}}),d=s.loading,p=(s.error,s.data),f=void 0===p?{}:p,b=s.refetch,h=f.drafts,E=void 0===h?[]:h;return i&&(b(),u(!1)),r.a.createElement(n.Fragment,null,r.a.createElement(pt.a,{className:m.backdrop,open:d},r.a.createElement(ft.a,{color:"inherit"})),r.a.createElement(bt.a,null,r.a.createElement("h1",null,"Drafts"),r.a.createElement(gt.a,{cellHeight:"auto",cols:3,spacing:10},E.map(function(e){return r.a.createElement(ht.a,{key:e.id},r.a.createElement(dt,{post:e,refresh:function(){return b()},isPublished:e.published}))}))))}),Ot=a(649),kt=a(317),Ct=a.n(kt),wt=a(644),xt=a(646);function St(){var e=Object(h.a)(["\n    mutation CreateDraftMutation($title: String!,$anonymous:Boolean!, $content: String!, $answerType:String!, $fields:[inputField!]! ) {\n        createDraft(title: $title,anonymous: $anonymous content: $content, answerType : $answerType,fields: $fields) {\n            id\n            title\n            content\n            answerType\n        }\n    }\n"]);return St=function(){return e},e}var It=Object(b.b)(St()),Nt=Object($.a)(function(e){return{submitBtn:{},selection:{margin:"15px 0"},answerTypesWrapper:{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em",alignItems:"baseline"},fieldWrapper:{display:"flex",alignItems:"center",margin:"5px 0","& > div ":{marginRight:8}},fieldsContainer:{margin:"15px 0"}}}),$t={title:"",content:"",anonymous:!0,answerType:"percentageAndText",fields:[]},Tt={isValid:!0,errorMsgs:{}},Pt=function(e){var t=Nt(),a=Object(n.useState)($t),l=Object(g.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)(Tt),m=Object(g.a)(i,2),s=m[0],d=m[1],p=Object(n.useState)(!1),f=Object(g.a)(p,2),b=f[0],h=f[1],E=Object(K.a)(It),j=Object(g.a)(E,1)[0],y=o.title,O=o.content,C=o.answerType,w=o.fields,x=o.anonymous,I=s.isValid,N=s.errorMsgs,$=void 0===N?{}:N;return Object(n.useEffect)(function(){s.isValid||d(Tt)},[o]),b?r.a.createElement(v.a,{to:{pathname:u,state:{shouldRefetch:!0}}}):r.a.createElement(bt.a,{fixed:!0},r.a.createElement("h1",null,"Create Draft"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=function(e){var t={};return e.title||(t.title="Title is required field"),e.content||(t.content="Content is required field"),e.fields.length||(t.fields="At least one field is required"),{isValid:!Object.keys(t).length,errorMsgs:t}}(o);!0===t.isValid?j({variables:Object(de.a)({},o)}).then(function(){h(!0),c($t)}):d(t)}},r.a.createElement(ee.a,{autoFocus:!0,label:"Title",placeholder:"Title",error:Boolean($.title),helperText:Boolean($.title)?$.title:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:y,name:"title",onChange:function(e){var t=e.target;return c(Object(de.a)({},o,Object(S.a)({},t.name,t.value)))}}),r.a.createElement(ee.a,{label:"Content",multiline:!0,rows:5,rowsMax:10,placeholder:"Content",error:Boolean($.content),helperText:Boolean($.content)?$.content:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:O,name:"content",onChange:function(e){var t=e.target;return c(Object(de.a)({},o,Object(S.a)({},t.name,t.value)))}}),r.a.createElement("div",{className:t.answerTypesWrapper},r.a.createElement(ee.a,{disabled:w.length,className:t.selection,select:!0,fullWidth:!0,label:"Select type of the answer",value:C,name:"answerType",onChange:function(e){var t=e.target;return c(Object(de.a)({},o,Object(S.a)({},t.name,t.value)))},variant:"outlined",helperText:"Please select preferred type of answers"},[{value:"percentage",label:"Percentage"},{value:"text",label:"Text"},{value:"percentageAndText",label:"Percentage and Text"}].map(function(e){return r.a.createElement(Ot.a,{key:e.value,value:e.value},e.label)})),r.a.createElement("div",null,r.a.createElement(B.a,{color:"primary",variant:"contained",onClick:function(){return c(Object(de.a)({},o,{fields:w.concat([{type:C,label:""}])}))}},"Add Field"))),r.a.createElement("div",{className:t.fieldsContainer},w.map(function(e,a){return r.a.createElement("div",{key:a,className:t.fieldWrapper},r.a.createElement(ee.a,{style:{flex:1},placeholder:"Question Label",variant:"outlined",value:e.label,name:"content",onChange:function(t){var n=t.target,r=Object(de.a)({},e,{label:n.value}),l=k(w);l[a]=r,c(Object(de.a)({},o,{fields:l}))}}),"percentageAndText"===C?r.a.createElement(ee.a,{style:{minWidth:220},select:!0,label:"Select type answer type",value:e.type,onChange:function(t){var n=t.target,r=Object(de.a)({},e,{type:n.value}),l=k(w);l[a]=r,c(Object(de.a)({},o,{fields:l}))},variant:"outlined"},r.a.createElement(Ot.a,{value:"percentage"},"Percentage"),r.a.createElement(Ot.a,{value:"text"},"Text")):null,r.a.createElement(Ae.a,{onClick:function(){var e=w.filter(function(e,t){return t!==a});c(Object(de.a)({},o,{fields:e}))}},r.a.createElement(Ct.a,null)))})),r.a.createElement(wt.a,{control:r.a.createElement(xt.a,{checked:x,onChange:function(e){var t=e.target;return c(Object(de.a)({},o,Object(S.a)({},t.name,t.checked)))},name:"anonymous",color:"primary"}),label:"Leave answer anonymously"}),r.a.createElement(B.a,{className:t.submitBtn,color:"primary",variant:"contained",disabled:!I,type:"submit"},"Create")))},At=a(226),Bt=a.n(At),Dt=a(645);function Ft(){var e=Object(h.a)(["\n    mutation CreateClasstMutation($name: String!, $postId: ID! ) {\n        createClass(name: $name, postId: $postId) {\n            id\n        }\n    }\n"]);return Ft=function(){return e},e}var Wt=Object(b.b)(Ft());var Mt=Object(v.f)(function(e){var t=e.postId,a=zt(),l=Object(n.useState)(""),o=Object(g.a)(l,2),c=o[0],i=o[1],u=Object(n.useState)(""),m=Object(g.a)(u,2),s=m[0],d=m[1],p=Object(K.a)(Wt),f=Object(g.a)(p,2),b=f[0],h=f[1].loading,E="https://placholder/"+s;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:a.backdrop,open:h},r.a.createElement(We.a,{color:"inherit"})),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em",height:"100%"}},r.a.createElement("div",{style:{display:"grid",gridTemplateRows:"1fr 1fr",gridGap:"1em"}},r.a.createElement(ee.a,{label:"Class Name",value:c,onChange:function(e){return i(e.target.value)}}),r.a.createElement(B.a,{disabled:!c,style:{margin:"15px 0"},color:"primary",variant:"contained",onClick:function(){return b({variables:{name:c,postId:t}}).then(function(e){var t=e.data;return d(t.createClass.id)})}},"Generate QR and Key"),r.a.createElement(qt,{keyValue:s,renderQr:function(e){return r.a.createElement(Bt.a,{value:E,size:e,level:"H"})}})),r.a.createElement("div",{style:{display:"grid",gridTemplateRows:"1fr auto",justifyItems:"center",alignItems:"center"}},r.a.createElement(Bt.a,{value:E,level:"H"}),r.a.createElement(x.a,{variant:"h5"},s))))}),zt=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}}),Rt=r.a.forwardRef(function(e,t){return r.a.createElement(Dt.a,Object.assign({direction:"up",ref:t},e))});function qt(e){var t=e.renderQr,a=e.keyValue,l=(zt(),r.a.useState(!1)),o=Object(g.a)(l,2),c=o[0],i=o[1],u=function(){var e=Object(n.useState)([0,0]),t=Object(g.a)(e,2),a=t[0],r=t[1];return Object(n.useLayoutEffect)(function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),a}(),m=Object(g.a)(u,2),s=m[0],d=(m[1],s/2);return r.a.createElement("div",null,r.a.createElement(B.a,{variant:"outlined",color:"primary",style:{width:"100%"},onClick:function(){i(!0)}},"Open full-screen QR"),r.a.createElement(M.a,{fullScreen:!0,open:c,onClose:function(){i(!1)},TransitionComponent:Rt},r.a.createElement("div",{style:{height:"100%",width:"100%",display:"grid",alignItems:"center",justifyItems:"center",margin:10}},t(d/1.3),r.a.createElement(x.a,{variant:"h1"},a))))}var Lt=a(318),Vt=a(319),Gt=a(332),Qt=a(320),Ut=a(334),Kt=a(50),Ht=a(45),Jt=a(650),Yt=Object(Ht.scaleOrdinal)(Jt.a).range(),Zt=[{subject:"Math",A:120,B:110,fullMark:150},{subject:"Chinese",A:98,B:130,fullMark:150},{subject:"English",A:86,B:130,fullMark:150},{subject:"Geography",A:99,B:100,fullMark:150},{subject:"Physics",A:85,B:90,fullMark:150},{subject:"History",A:65,B:85,fullMark:150}],_t=[{name:"Page A",uv:4e3,female:2400,male:2400},{name:"Page B",uv:3e3,female:1398,male:2210},{name:"Page C",uv:2e3,female:9800,male:2290},{name:"Page D",uv:2780,female:3908,male:2e3},{name:"Page E",uv:1890,female:4800,male:2181},{name:"Page F",uv:2390,female:3800,male:2500},{name:"Page G",uv:3490,female:4300,male:2100}],Xt=function(e,t,a,n){return"M".concat(e,",").concat(t+n,"\n          C").concat(e+a/3,",").concat(t+n," ").concat(e+a/2,",").concat(t+n/3," ").concat(e+a/2,", ").concat(t,"\n          C").concat(e+a/2,",").concat(t+n/3," ").concat(e+2*a/3,",").concat(t+n," ").concat(e+a,", ").concat(t+n,"\n          Z")},ea=function(e){var t=e.fill,a=e.x,n=e.y,l=e.width,o=e.height;return r.a.createElement("path",{d:Xt(a,n,l,o),stroke:"none",fill:t})},ta=function(e){function t(){return Object(Lt.a)(this,t),Object(Gt.a)(this,Object(Qt.a)(t).apply(this,arguments))}return Object(Ut.a)(t,e),Object(Vt.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"}},r.a.createElement(Kt.b,{width:500,height:400,data:_t,margin:{top:20,right:30,left:20,bottom:5}},r.a.createElement(Kt.c,{strokeDasharray:"3 3"}),r.a.createElement(Kt.j,{dataKey:"name"}),r.a.createElement(Kt.k,null),r.a.createElement(Kt.a,{dataKey:"female",fill:"#8884d8",shape:r.a.createElement(ea,null),label:{position:"top"}},_t.map(function(e,t){return r.a.createElement(Kt.d,{key:"cell-".concat(t),fill:Yt[t%20]})}))),r.a.createElement(Kt.i,{cx:300,cy:250,width:500,height:500,data:Zt},r.a.createElement(Kt.f,null),r.a.createElement(Kt.e,{dataKey:"subject"}),r.a.createElement(Kt.g,null),r.a.createElement(Kt.h,{name:"Mike",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})))}}]),t}(n.PureComponent);function aa(){var e=Object(h.a)(["\n    mutation publishClass($id: ID!, $published :Boolean!) {\n        publishClass(id: $id, published:$published) {\n            id\n            published\n        }\n    }\n"]);return aa=function(){return e},e}var na=Object(b.b)(aa()),ra=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),la=Object(tt.a)({switchBase:{color:"#fafafa","&$checked":{color:"rgb(26,148,49)"},"&$checked + $track":{backgroundColor:"rgb(26,148,49)"}},checked:{},track:{}})(lt.a),oa=function(e){var t=e.published,a=e.id,l=e.refresh,o=ra(),c=Object(K.a)(na),i=Object(g.a)(c,2),u=i[0],m=i[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:o.backdrop,open:m},r.a.createElement(We.a,{color:"inherit"})),r.a.createElement(nt.a,{style:{marginRight:"auto"},control:r.a.createElement(la,{size:"small",checked:t,onChange:function(){u({variables:{id:a,published:!t}}).then(function(){return l()})},onClick:function(e){e.stopPropagation(),e.preventDefault()},color:"secondary"}),label:"Accept answers"}))};function ca(){var e=Object(h.a)(["\n    query PostQuery($id: ID!) {\n        post(id: $id) {\n            id\n            title\n            content\n            published\n            author {\n                name\n            }\n            classes{\n                id\n                name\n                published\n            }\n        }\n    }\n"]);return ca=function(){return e},e}var ia=Object(b.b)(ca()),ua=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},root:{height:"100%",padding:e.spacing(2)},paper:{padding:e.spacing(2),height:"100%",color:e.palette.text.secondary},item:{padding:10},selectionRoot:{"& .MuiTextField-root":{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em"}}}}),ma=Object(v.f)(function(e){var t=e.match,a=e.history,l=t.params,o=(void 0===l?{}:l).id;if(!o)return r.a.createElement(v.a,{to:"/"});var c=ua(),i=Object(K.b)(ia,{variables:{id:o},options:{fetchPolicy:"network-only"}}),m=i.loading,s=i.data,d=void 0===s?{}:s,p=i.refetch,f=function(){return p()},b=d.post,g=void 0===b?{}:b;if(!g)return r.a.createElement(v.a,{to:"/"});var h=g.title,E=g.content,j=g.published,y=g.classes,O=void 0===y?[]:y;return r.a.createElement(n.Fragment,null,r.a.createElement(pt.a,{className:c.backdrop,open:m},r.a.createElement(ft.a,{color:"inherit"})),r.a.createElement(ae.a,{className:c.root,container:!0,alignItems:"stretch"},r.a.createElement(ae.a,{item:!0,xs:12,sm:6,className:c.item},r.a.createElement(w.a,{className:c.paper,elevation:6},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Title"),h),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Content"),E),r.a.createElement("div",{style:{display:"flex",paddingTop:10}},r.a.createElement(mt,{id:o,isPublished:!!j,refresh:f}),r.a.createElement(Ge,{title:h,id:o,refresh:function(){return a.push({pathname:u,state:{shouldRefetch:!0}})}}),r.a.createElement(et,{title:h,id:o,content:E,refresh:function(){return f()}})),O?r.a.createElement(He.a,{className:c.selection,select:!0,fullWidth:!0,label:"Select class",name:"answerType",classes:{root:c.selectionRoot},variant:"outlined",helperText:"Please select class to see the answers statistic"},O.map(function(e){var t=e.id,a=e.name,n=e.published;return r.a.createElement(Ot.a,{key:t,value:t,style:{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em"}},a,r.a.createElement(oa,{published:n,id:t,refresh:function(){return f()}}))})):null)),r.a.createElement(ae.a,{item:!0,xs:12,sm:6,className:c.item},r.a.createElement(w.a,{elevation:6,className:c.paper},r.a.createElement(Mt,{postId:o}))),r.a.createElement(ae.a,{item:!0,xs:12,className:c.item},r.a.createElement(w.a,{elevation:6,className:c.paper},r.a.createElement(ta,null)))))});function sa(){var e=Object(h.a)(["\n    query AnswerFormQuery($id: ID!) {\n        class(id: $id) {\n            id\n            name\n            post {\n                id\n                fields{\n                    id\n                    label\n                    type\n                }\n            }\n            published\n\n        }\n    }\n"]);return sa=function(){return e},e}var da=Object(b.b)(sa()),pa=Object($.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},root:{padding:"2em"}}}),fa=Object(v.f)(function(e){var t=e.match,a=(e.history,t.params),n=(void 0===a?{}:a).id;if(!n)return r.a.createElement(v.a,{to:"/"});var l=pa(),o=Object(K.b)(da,{variables:{id:n},options:{fetchPolicy:"network-only"}}),c=o.loading,i=o.data,u=void 0===i?{}:i,m=(o.refetch,u.class),s=void 0===m?{}:m;if(!s)return r.a.createElement(v.a,{to:"/"});var d=s.name,p=s.post,f=void 0===p?{}:p,b=s.published,g=(s.anonymous,f.fields),h=void 0===g?[]:g;return!1===b?r.a.createElement("h1",null,"Oooops time is out!!"):r.a.createElement(bt.a,{fixed:!0,className:l.root},r.a.createElement(pt.a,{className:l.backdrop,open:c},r.a.createElement(ft.a,{color:"inherit"})),r.a.createElement(x.a,{align:"center"},"Class ",d),h.map(function(e){return r.a.createElement(He.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:e.label,onChange:function(e){e.target}})}),r.a.createElement(B.a,{color:"primary",variant:"contained"},"Submit Answers"))});function ba(){var e=Object(h.a)(["\n  query MeQuery {\n    me {\n      id\n      email\n      name\n    }\n  }\n"]);return ba=function(){return e},e}var ga=J()(ba()),ha=function(){return r.a.createElement("h3",null,"Public")},Ea=function(){return r.a.createElement("h3",null,"Blog")},va=function(){return r.a.createElement("h3",null,"Protected")},ja=function(e){try{var t=localStorage.getItem(o);if(null!==t&&void 0!==t)_(t)?(localStorage.removeItem(o),e(t)):e(t)}catch(a){console.log("")}};function ya(e){var t=e.token,a=Object(n.useState)(t),l=Object(g.a)(a,2),d=(l[0],l[1]),p=Object(K.b)(ga);p.loading,p.error,p.data;Object(n.useEffect)(function(){ja(d)},[]);var f=function(e){e?localStorage.setItem(o,e):localStorage.removeItem(o)};return r.a.createElement(E.a,null,r.a.createElement(U,null,r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/public",component:ha}),r.a.createElement(C,{exact:!0,path:"/protected",component:va}),r.a.createElement(v.b,{exact:!0,path:"/",component:ha}),r.a.createElement(v.b,{exact:!0,path:m,component:Ea}),r.a.createElement(v.b,{exact:!0,path:i,render:function(e){return y()?r.a.createElement(v.a,{to:"/"}):r.a.createElement(se,Object.assign({},e,{refreshTokenFn:f}))}}),r.a.createElement(v.b,{exact:!0,path:c,render:function(e){return y()?r.a.createElement(v.a,{to:"/"}):r.a.createElement(je,Object.assign({},e,{refreshTokenFn:f}))}}),r.a.createElement(C,{path:s,component:Pt}),r.a.createElement(C,{path:u,component:yt}),r.a.createElement(C,{path:"/post/:id",component:ma}),r.a.createElement(v.b,{path:"/answer/:id",component:fa}),r.a.createElement(v.b,{render:function(){return r.a.createElement(w.a,{elevation:15,style:{margin:"20px 10px",padding:"20px 10px"}},r.a.createElement(x.a,{color:"textSecondary",variant:"h1",align:"center"},"Error 404"),r.a.createElement(x.a,{color:"textSecondary",variant:"h4",align:"center"},"Page not found ",r.a.createElement("span",{role:"img","aria-label":"hey"},"\ud83d\ude1e")))}}))))}var Oa=new b.a({uri:"http://localhost:4000",request:function(e){var t=localStorage.getItem(o);e.setContext({headers:{Authorization:t?"Bearer ".concat(t):""}})},onError:function(e){var t=e.graphQLErrors,a=e.networkError;t?t.forEach(function(e){}):a&&alert(a)}}),ka=localStorage.getItem(o),Ca=function(){return r.a.createElement(p.a,{client:Oa},r.a.createElement(d.a,{theme:Object(f.a)({palette:{primary:{main:"#1976d2"}}})},r.a.createElement(ya,{token:ka})))};Object(l.render)(r.a.createElement(Ca,null),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.d83149c4.chunk.js.map