(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{317:function(e,t,a){e.exports=a.p+"static/media/logo.4cead3cc.png"},319:function(e,t,a){e.exports=a.p+"static/media/image2.ade0a065.jpg"},323:function(e,t,a){e.exports=a.p+"static/media/image1.02864c39.jpg"},384:function(e,t,a){e.exports=a(622)},622:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o="AUTH_TOKEN",i="/signup",c="/login",u="/rooms",s="/blog",m="/create-post",d="/room",p="/room/:id",f=a(260),b=a(43),E=(a(389),a(346));var g=a(11),v=a(28),h=a(94),y=a(115);function j(){return!!localStorage.getItem(o)}var O=function(e){return"function"===typeof e||!1};O(/x/)||Uint8Array&&O(Uint8Array);function w(e){return e&&"object"===typeof e&&!Array.isArray(e)}Array.isArray;function C(e,t){var a=Object.keys(t);return function e(n){if(w(n)&&null!==n){if(function(e){for(var n=0,r=a.length;n<r;n++){var l=a[n];if(e[l]!==t[l])return!1}return!0}(n))return n;for(var r in n){var l=e(n[r]);if(l)return l}}else if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++){var c=e(n[o]);if(c)return c}}(e)}var k=function(e){var t=e.component,a=Object(y.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return j()?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:c,state:{from:e.location}}})}}))},x=a(132),S=a(73),I=a(18),T=a(660),A=a(661),N=a(659),$=a(685),D=a(317),F=a.n(D),R=a(654),q=a(656),B=a(657),P=a(658),W=a(655),z=function(){var e=Object(n.useState)(!0),t=Object(g.a)(e,2),a=t[0],l=t[1];return r.a.createElement(W.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:a},r.a.createElement(q.a,{id:"confirmation-dialog-title"},"Log Out Confirmation"),r.a.createElement(B.a,{dividers:!0},"Are you sure you want to logout? ",r.a.createElement("span",{"aria-label":"sad",role:"img"}," \ud83d\ude31")),r.a.createElement(P.a,null,r.a.createElement(R.a,{autoFocus:!0,onClick:function(){l(!1)},color:"default"},"Cancel"),r.a.createElement(R.a,{onClick:function(){l(!1),localStorage.removeItem(o),window.location.href="/"},color:"secondary"},"Log Out")))},M=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement(R.a,{component:v.b,to:d},"Enter Room"),r.a.createElement(R.a,{component:v.b,to:m},"Create Room"),r.a.createElement(R.a,{component:v.b,to:u},"Rooms"),r.a.createElement(R.a,{onClick:function(){return l(!0)}},"Log Out"),a?r.a.createElement(z,null):null)},V=function(){return r.a.createElement("div",null,r.a.createElement(R.a,{component:v.b,to:d},"Enter Room"),r.a.createElement(R.a,{component:v.b,to:s},"Blog"),r.a.createElement(R.a,{component:v.b,to:c},"Login"),r.a.createElement(R.a,{component:v.b,to:i},"Sign Up"))},L=Object(N.a)(function(e){var t;return{appBar:{backgroundColor:"white"},logoIcon:{marginRight:"0.5em"},menuButton:{marginRight:e.spacing(2)},titleContainer:{textDecoration:"none"},title:(t={display:"none"},Object(I.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(I.a)(t,"color","rgba(48,56,64,.9)"),Object(I.a)(t,"fontSize","1.9rem"),Object(I.a)(t,"fontWeight",500),Object(I.a)(t,"fontFamily","Roboto,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol"),t),toolbarGutters:Object(I.a)({},e.breakpoints.up("md"),{margin:e.spacing(0,20)})}}),G=Object(h.f)(function(e){var t=e.location,a=L(),n=t.pathname.includes(i)||t.pathname.includes(c);return r.a.createElement("div",null,r.a.createElement(T.a,{position:"fixed",className:a.appBar},r.a.createElement(A.a,{classes:{gutters:n?a.toolbarGutters:""}},r.a.createElement($.a,{component:v.b,className:a.titleContainer,to:"/",display:"flex",alignItems:"center"},r.a.createElement("img",{src:F.a,alt:"",width:"60px",className:a.logoIcon}),r.a.createElement(S.a,{className:a.title,variant:"h6"},"Real time feedo")),r.a.createElement($.a,{component:"div",display:"flex",justifyContent:"flex-end",alignItems:"center",style:{marginLeft:"auto"}},j()?r.a.createElement(M,null):r.a.createElement(V,null)))))}),U=a(662),H=Object(N.a)({"@global":{"html , body , #root":{height:"100%"}},root:{display:"grid",gridTemplateRows:"64px 1fr",height:"100%"}}),Q=Object(h.f)(function(e){var t=H(),a=e.children,l=e.location.pathname,o=void 0===l?"":l;return o===c||o===i?r.a.createElement(n.Fragment,null,r.a.createElement(U.a,null),a):r.a.createElement("div",{className:t.root},r.a.createElement(U.a,null),r.a.createElement(G,null),r.a.createElement("div",null,a))}),K=a(318),Y=a.n(K);function J(e){var t=function(e){var t=Y()(e);if(!t.exp)return null;var a=new Date(0);return a.setUTCSeconds(t.exp),a}(e);return null!==t&&!(t.valueOf()>(new Date).valueOf()+0)}var Z=a(26),_=a(686),X=a(665),ee=a(663),te=a(664),ae=a(181),ne=a.n(ae),re=a(27),le=a(25),oe=a(319),ie=a.n(oe);function ce(){var e=Object(Z.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        id\n        name\n        email\n      }\n    }\n  }\n"]);return ce=function(){return e},e}function ue(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ee.a,{color:"inherit",href:"https://github.com/AnnaNarim/"},"ANNA NARIM Production")," ",(new Date).getFullYear(),".")}var se=Object(re.a)(ce()),me=Object(N.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(ie.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function de(e){var t=e.refreshTokenFn,a=e.location.state,l=(void 0===a?{}:a).from,o=void 0===l?{}:l,c=me(),s=Object(n.useState)(""),m=Object(g.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(g.a)(f,2),E=b[0],v=b[1],y=Object(n.useState)(!1),j=Object(g.a)(y,2),O=j[0],w=j[1],C=Object(le.b)(se,{onCompleted:function(e){var a=e.login;t&&t(a.token),w(!0),p(""),v("")}}),k=Object(g.a)(C,1)[0];return O?r.a.createElement(h.a,{to:o.pathname||u}):r.a.createElement(te.a,{container:!0,component:"main",className:c.root},r.a.createElement(te.a,{item:!0,xs:!1,sm:4,md:7,className:c.image}),r.a.createElement(te.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0},r.a.createElement("div",{className:c.paper},r.a.createElement(_.a,{className:c.avatar},r.a.createElement(ne.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:c.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),k({variables:{email:d,password:E}})}},r.a.createElement(X.a,{value:d,onChange:function(e){return p(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(X.a,{value:E,onChange:function(e){return v(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit},"Sign In"),r.a.createElement(te.a,{container:!0},r.a.createElement(te.a,{item:!0},r.a.createElement(ee.a,{href:i,variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement($.a,{mt:5},r.a.createElement(ue,null))))))}var pe=a(53),fe=a(323),be=a.n(fe);function Ee(){var e=Object(Z.a)(["\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token\n      user {\n        id\n        name\n        email\n      }\n    }\n  }\n"]);return Ee=function(){return e},e}function ge(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ee.a,{color:"inherit",href:"https://github.com/AnnaNarim"},"ANNA NARIM Production")," ",(new Date).getFullYear(),".")}var ve=Object(re.a)(Ee()),he=Object(N.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(be.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),ye={email:"",password:"",name:""};function je(e){var t=e.refreshTokenFn,a=e.location.state,l=(void 0===a?{}:a).from,o=void 0===l?{}:l,i=he(),s=Object(n.useState)(ye),m=Object(g.a)(s,2),d=m[0],p=m[1],f=d.name,b=d.email,E=d.password,v=Object(n.useState)(!1),y=Object(g.a)(v,2),j=y[0],O=y[1],w=Object(le.b)(ve,{onCompleted:function(e){var a=e.signup;t&&t(a.token),O(!0),p(ye)}}),C=Object(g.a)(w,1)[0];if(j)return r.a.createElement(h.a,{to:o.pathname||u});var k=function(e){return p(Object(pe.a)({},d,Object(I.a)({},e.target.name,e.target.value)))};return r.a.createElement(te.a,{container:!0,component:"main",className:i.root},r.a.createElement(te.a,{item:!0,xs:!1,sm:4,md:7,className:i.image}),r.a.createElement(te.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0},r.a.createElement("div",{className:i.paper},r.a.createElement(_.a,{className:i.avatar},r.a.createElement(ne.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),C({variables:Object(pe.a)({},d)})}},r.a.createElement(X.a,{value:f,onChange:k,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"User Name",name:"name",autoComplete:"name",autoFocus:!0}),r.a.createElement(X.a,{value:b,onChange:k,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(X.a,{value:E,onChange:k,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},"Sign Up"),r.a.createElement(te.a,{container:!0},r.a.createElement(te.a,{item:!0},r.a.createElement(ee.a,{href:c,variant:"body2"},"Already have an account!!!"))),r.a.createElement($.a,{mt:5},r.a.createElement(ge,null))))))}var Oe=a(667),we=a(668),Ce=a(670),ke=a(669),xe=a(183),Se=a.n(xe),Ie=a(184),Te=a.n(Ie),Ae=a(185),Ne=a.n(Ae),$e=a(186),De=a.n($e),Fe=a(182),Re=a(324),qe=a.n(Re),Be=a(57),Pe=a.n(Be),We=a(67),ze=a.n(We);function Me(){var e=Object(Z.a)(["\n    mutation deletePost($id: ID!) {\n        deletePost(id: $id) {\n            id\n        }\n    }\n"]);return Me=function(){return e},e}var Ve=Object(re.a)(Me()),Le=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),Ge=function(e){var t=e.title,a=e.onConfirm,l=e.onClose,o=Object(n.useState)(!0),i=Object(g.a)(o,2),c=i[0],u=i[1];return r.a.createElement(Se.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:c},r.a.createElement(Te.a,{id:"confirmation-dialog-title"},"Delete Room confirmation"),r.a.createElement(Ne.a,{dividers:!0},"Are you sure you want delete ",t," post? \ud83d\ude31"),r.a.createElement(De.a,null,r.a.createElement(R.a,{autoFocus:!0,onClick:function(){u(!1),l()},color:"default"},"Cancel"),r.a.createElement(R.a,{onClick:function(){u(!1),a()},color:"secondary"},"Delete")))},Ue=function(e){var t=e.title,a=e.id,l=e.refresh,o=Le(),i=Object(n.useState)(!1),c=Object(g.a)(i,2),u=c[0],s=c[1],m=Object(le.b)(Ve),d=Object(g.a)(m,2),p=d[0],f=d[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:o.backdrop,open:f},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(Fe.a,{color:"secondary",onClick:function(){return s(!0)}},r.a.createElement(qe.a,null)),u?r.a.createElement(Ge,{title:t,onConfirm:function(){return p({variables:{id:a}}).then(function(){s(!1),l()})},onClose:function(){return s(!1)}}):null)},He=a(325),Qe=a.n(He),Ke=a(71),Ye=a.n(Ke);function Je(){var e=Object(Z.a)(["\n    mutation updateDraft($id: ID!,$title: String!, $content: String!) {\n        updateDraft(id: $id,title : $title, content:$content ) {\n            id\n        }\n    }\n"]);return Je=function(){return e},e}var Ze=Object(re.a)(Je()),_e=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),Xe={isValid:!0,errorMsgs:{}},et=function(e){var t=e.title,a=e.content,l=e.onConfirm,o=e.onClose,i=Object(n.useState)(!0),c=Object(g.a)(i,2),u=c[0],s=c[1],m=Object(n.useState)({title:t,content:a}),d=Object(g.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(Xe),E=Object(g.a)(b,2),v=E[0],h=E[1],y=p.title,j=p.content,O=v.errorMsgs,w=void 0===O?{}:O;Object(n.useEffect)(function(){v.isValid||h(Xe)},[p]);return r.a.createElement(Se.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:u},r.a.createElement(Te.a,{id:"confirmation-dialog-title"},"Edit"),r.a.createElement(Ne.a,{dividers:!0},r.a.createElement(Ye.a,{autoFocus:!0,label:"Title",placeholder:"Title",error:Boolean(w.title),helperText:Boolean(w.title)?w.title:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:y,name:"title",onChange:function(e){var t=e.target;return f(Object(pe.a)({},p,Object(I.a)({},t.name,t.value)))}}),r.a.createElement(Ye.a,{label:"Content",multiline:!0,rows:5,rowsMax:10,placeholder:"Content",error:Boolean(w.content),helperText:Boolean(w.content)?w.content:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:j,name:"content",onChange:function(e){var t=e.target;return f(Object(pe.a)({},p,Object(I.a)({},t.name,t.value)))}})),r.a.createElement(De.a,null,r.a.createElement(R.a,{autoFocus:!0,onClick:function(){s(!1),o()},color:"default"},"Cancel"),r.a.createElement(R.a,{onClick:function(){var e=function(e){var t={};return e.title||(t.title="Title is required field"),e.content||(t.content="Content is required field"),{isValid:!Object.keys(t).length,errorMsgs:t}}(p);!0===e.isValid?(l(p),s(!1)):h(e)},color:"primary"},"Save")))},tt=function(e){var t=e.title,a=e.id,l=e.content,o=e.refresh,i=_e(),c=Object(n.useState)(!1),u=Object(g.a)(c,2),s=u[0],m=u[1],d=Object(le.b)(Ze),p=Object(g.a)(d,2),f=p[0],b=p[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:i.backdrop,open:b},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(Fe.a,{color:"primary",onClick:function(){return m(!0)}},r.a.createElement(Qe.a,null)),s?r.a.createElement(et,{title:t,content:l,onConfirm:function(e){return f({variables:Object(pe.a)({},e,{id:a})}).then(function(){m(!1),o()})},onClose:function(){return m(!1)}}):null)},at=Object(N.a)({root:{margin:15}});function nt(e){var t=e.post,a=e.refresh,n=at(),l=t.title,o=t.id,i=t.content;return r.a.createElement(Oe.a,{className:n.root,elevation:3},r.a.createElement(we.a,{component:v.b,to:"/post/".concat(o)},r.a.createElement(ke.a,null,r.a.createElement(S.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0},l),r.a.createElement(S.a,{variant:"body2",color:"textSecondary",component:"p"},i))),r.a.createElement(Ce.a,{style:{justifyContent:"flex-end"}},r.a.createElement(Ue,{title:l,id:o,refresh:a}),r.a.createElement(tt,{title:l,id:o,content:i,refresh:a})))}var rt=a(228),lt=a(671),ot=a(672),it=a(673),ct=a(674);function ut(){var e=Object(Z.a)(["\n    query DraftsQuery {\n        drafts {\n            id\n            content\n            title\n            published\n            author {\n                name\n            }\n        }\n    }\n"]);return ut=function(){return e},e}var st=Object(re.a)(ut()),mt=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1}}}),dt=Object(h.f)(function(e){var t=e.location.state,a=(void 0===t?{}:t).shouldRefetch,l=void 0!==a&&a,o=Object(n.useState)(l),i=Object(g.a)(o,2),c=i[0],u=i[1],s=mt(),m=Object(le.c)(st,{options:{fetchPolicy:"network-only"}}),d=m.loading,p=m.data,f=void 0===p?{}:p,b=m.refetch,E=f.drafts,v=void 0===E?[]:E;return c&&(b(),u(!1)),r.a.createElement(n.Fragment,null,r.a.createElement(rt.a,{className:s.backdrop,open:d},r.a.createElement(lt.a,{color:"inherit"})),r.a.createElement(ot.a,null,r.a.createElement("h1",null,"Drafts"),r.a.createElement(it.a,{cellHeight:"auto",cols:2,spacing:10},v.map(function(e){return r.a.createElement(ct.a,{key:e.id},r.a.createElement(nt,{post:e,refresh:function(){return b()},isPublished:e.published}))}))))}),pt=a(675),ft=a(326),bt=a.n(ft),Et=a(676),gt=a(683),vt=a(47);function ht(){var e=Object(Z.a)(["\n    mutation CreateDraftMutation($title: String!,$anonymous:Boolean!, $content: String!, $answerType:String!, $fields:[inputField!]! ) {\n        createDraft(title: $title,anonymous: $anonymous content: $content, answerType : $answerType,fields: $fields) {\n            id\n            title\n            content\n            answerType\n        }\n    }\n"]);return ht=function(){return e},e}var yt=Object(re.a)(ht()),jt=Object(N.a)(function(e){return{submitBtn:{},selection:{margin:"15px 0"},answerTypesWrapper:{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em",alignItems:"baseline"},fieldWrapper:{display:"flex",alignItems:"center",margin:"5px 0","& > div ":{marginRight:8}},fieldsContainer:{margin:"15px 0"}}}),Ot=function(e){var t=jt(),a=Object(n.useState)(!1),l=Object(g.a)(a,2),o=l[0],i=l[1],c=Object(le.b)(yt),s=Object(g.a)(c,1)[0],m=Object(vt.c)(),d=m.control,p=m.reset,f=m.handleSubmit,b=m.watch,E=m.errors,v=Object(vt.b)({control:d,name:"fields"}),y=v.fields,j=v.append,O=v.remove;if(o)return r.a.createElement(h.a,{to:{pathname:u,state:{shouldRefetch:!0}}});var w=b("answerType");return r.a.createElement(ot.a,{fixed:!0},r.a.createElement("h1",null,"Create Room"),r.a.createElement("form",{onSubmit:f(function(e){s({variables:Object(pe.a)({},e)}).then(function(){i(!0),p()})})},r.a.createElement(vt.a,{autoFocus:!0,label:"Title",placeholder:"Title",fullWidth:!0,margin:"normal",variant:"outlined",as:X.a,rules:{required:!0},error:!!E.title,helperText:E.title?"This field is required":"",name:"title",defaultValue:"",control:d}),r.a.createElement(vt.a,{label:"Content",placeholder:"Content",fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,rows:5,rowsMax:10,as:X.a,rules:{required:!0},error:!!E.content,helperText:E.content?"This field is required":"",name:"content",defaultValue:"",control:d}),r.a.createElement("div",{className:t.answerTypesWrapper},r.a.createElement(vt.a,{label:"Select type of the answer",disabled:Boolean(y.length),className:t.selection,margin:"normal",variant:"outlined",as:X.a,select:!0,control:d,onChange:function(e){var t=Object(g.a)(e,1)[0];return j({label:"",type:t.target.value}),t},rules:{required:!0},name:"answerType",error:!!E.answerType,helperText:E.answerType?"This field is required":"Please select preferred type of answers",fullWidth:!0,defaultValue:""},r.a.createElement(pt.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(pt.a,{value:"text"},"Text"),r.a.createElement(pt.a,{value:"percentage"},"Percentage"),r.a.createElement(pt.a,{value:"percentageAndText"},"Text and Percentage")),r.a.createElement("div",null,r.a.createElement(R.a,{disabled:!Boolean(w),color:"primary",variant:"contained",onClick:function(){return j({label:"",type:w})}},"Add Field"))),r.a.createElement("div",{className:t.fieldsContainer},y.map(function(e,a){var n=e.type,l="fields[".concat(a,"].label"),o="fields[".concat(a,"].type"),i=!(!E.fields||!E.fields.length),c=!!i&&Boolean(C(E.fields,{name:l})),u=!!i&&Boolean(C(E.fields,{name:o}));return r.a.createElement("div",{key:a,className:t.fieldWrapper},r.a.createElement(vt.a,{style:{flex:1},as:X.a,control:d,name:l,defaultValue:e.label,label:"Ask a question",placeholder:"Ask a question",margin:"normal",variant:"outlined",rules:{required:!0},error:c,fullWidth:!0}),"percentageAndText"===n?r.a.createElement(vt.a,{label:"Select an answer type",style:{minWidth:220},margin:"normal",variant:"outlined",as:X.a,select:!0,control:d,rules:{required:!0},name:o,error:u,defaultValue:""},r.a.createElement(pt.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(pt.a,{value:"text"},"Text"),r.a.createElement(pt.a,{value:"percentage"},"Percentage")):r.a.createElement(vt.a,{style:{display:"none"},as:X.a,control:d,name:o,defaultValue:e.type,label:"Ask a question",placeholder:"Ask a question",margin:"normal",variant:"outlined",disabled:!0}),r.a.createElement(Fe.a,{disabled:1===y.length,onClick:function(){return O(a)}},r.a.createElement(bt.a,null)))})),r.a.createElement(Et.a,{control:r.a.createElement(vt.a,{as:gt.a,control:d,defaultValue:!0,name:"anonymous",color:"primary"}),label:"Leave answer anonymously"}),r.a.createElement(R.a,{className:t.submitBtn,color:"primary",variant:"contained",type:"submit"},"Create")))},wt=a(240),Ct=a.n(wt),kt=a(677);function xt(){var e=Object(Z.a)(["\n    mutation CreateClasstMutation($name: String!, $postId: ID! ) {\n        createClass(name: $name, postId: $postId) {\n            id\n        }\n    }\n"]);return xt=function(){return e},e}var St=Object(re.a)(xt()),It=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},root:Object(I.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em",height:"100%"},e.breakpoints.down("sm"),{gridTemplateColumns:"auto",gridTemplateRows:"1fr 1fr"})}});var Tt=Object(h.f)(function(e){var t=e.postId,a=e.selectedClassId,l=e.refresh,o=It(),i=Object(n.useState)(""),c=Object(g.a)(i,2),u=c[0],s=c[1],m=Object(n.useState)(""),d=Object(g.a)(m,2),p=d[0],f=d[1],b=Object(le.b)(St),E=Object(g.a)(b,2),v=E[0],h=E[1].loading;Object(n.useEffect)(function(){f(a)},[a]);var y="https://placholder/"+p;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:o.backdrop,open:h},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement("div",{className:o.root},r.a.createElement("div",{style:{display:"grid",gridTemplateRows:"1fr 1fr",gridGap:"1em"}},r.a.createElement(X.a,{label:"Class Name",value:u,onChange:function(e){return s(e.target.value)}}),r.a.createElement(R.a,{disabled:!u,style:{margin:"15px 0"},color:"primary",variant:"contained",onClick:function(){return v({variables:{name:u,postId:t}}).then(function(e){var t=e.data;return f(t.createClass.id)}).then(function(){return l()})}},"Generate QR and Key"),r.a.createElement(Nt,{keyValue:p,renderQr:function(e){return r.a.createElement(Ct.a,{value:y,size:e,level:"H"})}})),r.a.createElement("div",{style:{display:"grid",gridTemplateRows:"1fr auto",justifyItems:"center",alignItems:"center"}},r.a.createElement(Ct.a,{value:y,level:"H"}),r.a.createElement(S.a,{variant:"h5"},p))))}),At=r.a.forwardRef(function(e,t){return r.a.createElement(kt.a,Object.assign({direction:"up",ref:t},e))});function Nt(e){var t=e.renderQr,a=e.keyValue,l=r.a.useState(!1),o=Object(g.a)(l,2),i=o[0],c=o[1],u=function(){var e=Object(n.useState)([0,0]),t=Object(g.a)(e,2),a=t[0],r=t[1];return Object(n.useLayoutEffect)(function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),a}(),s=Object(g.a)(u,1)[0]/2;return r.a.createElement("div",null,r.a.createElement(R.a,{variant:"outlined",color:"primary",style:{width:"100%"},onClick:function(){c(!0)}},"Open full-screen QR"),r.a.createElement(W.a,{fullScreen:!0,open:i,onClose:function(){c(!1)},TransitionComponent:At},r.a.createElement("div",{style:{height:"100%",width:"100%",display:"grid",alignItems:"center",justifyItems:"center",margin:10}},t(s/1.3),r.a.createElement(S.a,{variant:"h1"},a))))}var $t=a(6),Dt=a(327),Ft=a.n(Dt),Rt=a(328),qt=a.n(Rt);function Bt(){var e=Object(Z.a)(["\n    mutation publishClass($id: ID!, $published :Boolean!) {\n        publishClass(id: $id, published:$published) {\n            id\n            published\n        }\n    }\n"]);return Bt=function(){return e},e}var Pt=Object(re.a)(Bt()),Wt=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),zt=Object($t.a)({switchBase:{color:"#fafafa","&$checked":{color:"rgb(26,148,49)"},"&$checked + $track":{backgroundColor:"rgb(26,148,49)"}},checked:{},track:{}})(qt.a),Mt=function(e){var t=e.published,a=e.id,l=e.refresh,o=Wt(),i=Object(le.b)(Pt),c=Object(g.a)(i,2),u=c[0],s=c[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:o.backdrop,open:s},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(Ft.a,{style:{marginRight:"auto"},control:r.a.createElement(zt,{size:"small",checked:t,onChange:function(){u({variables:{id:a,published:!t}}).then(function(){return l()})},onClick:function(e){e.stopPropagation(),e.preventDefault()},color:"secondary"}),label:"Accept answers"}))},Vt=a(329),Lt=a(330),Gt=a(347),Ut=a(331),Ht=a(348),Qt=a(684),Kt=a(678),Yt=a(679),Jt=a(343),Zt=a.n(Jt),_t=a(680),Xt=a(682),ea=a(624),ta=a(666),aa=a(344),na=a.n(aa),ra=a(50),la=[0,10,20,30,40,50,60,70,80,90,100],oa={0:0,10:0,20:0,30:0,40:0,50:0,60:0,70:0,80:0,90:0,100:0};function ia(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var ca=function(e,t){var a=Object(pe.a)({},oa);return e.forEach(function(e){var t=e.value;void 0!==a[t]&&(a[t]=a[t]+1)}),la.map(function(e){return{subject:e+"%",A:a[e],fullMark:t}})},ua=function(e){var t,a=e.map(function(e){return Number(e.value)});return(t=a).reduce(function(e,t){return e+t},0)/t.length},sa=function(e){var t=function(e,t){return e.map(function(e){return{key:e.id,title:e.label.length>10?e.label.slice(0,10)+"...":e.label,data:ca(e.relativeClassAnswers,t),avg:ua(e.relativeClassAnswers),color:ia()}})}(e.fields,e.submittedFormsCount),a=t.map(function(e){var t=e.title;return{avg:e.avg,title:t}});return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"}},t.map(function(e){var t=e.data,a=e.title,n=e.key,l=e.color;return r.a.createElement("div",{key:n},r.a.createElement(S.a,{align:"center"},a),r.a.createElement(ra.j,{cx:200,cy:115,width:350,height:250,data:t,key:n},r.a.createElement(ra.d,{value:"Pages of my website",offset:0,position:"insideBottom"}),r.a.createElement(ra.g,null),r.a.createElement(ra.f,{dataKey:"subject"}),r.a.createElement(ra.h,null),r.a.createElement(ra.i,{name:"Percentage Result",dataKey:"A",stroke:l,fill:l,fillOpacity:.6})))}),r.a.createElement(ra.b,{width:200*a.length,barSize:100,height:250,data:a},r.a.createElement(ra.c,{strokeDasharray:"3 3"}),r.a.createElement(ra.l,{dataKey:"title"}),r.a.createElement(ra.m,{domain:[0,100]}),r.a.createElement(ra.k,null),r.a.createElement(ra.e,null),r.a.createElement(ra.a,{dataKey:"avg",fill:ia()})))},ma=a(342),da=a.n(ma),pa=a(681),fa=Object(N.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}}),ba=function(e,t){return r.a.createElement("div",null,e.map(function(e){var a,n=void 0===(a=e.relativeClassAnswers)||null===a?[]:(Array.isArray(a)||(a=[a]),a);return r.a.createElement(Qt.a,{key:e.id},r.a.createElement(Kt.a,{expandIcon:r.a.createElement(Zt.a,null)},r.a.createElement(S.a,null,e.label)),r.a.createElement(Yt.a,{style:{display:"block"}},n.map(function(e){return r.a.createElement("div",{key:e.id,style:{width:"100%",margin:"10px 0"}},r.a.createElement(S.a,{color:"textSecondary"},e.value," ",t?"- ".concat(e.author.name):""),r.a.createElement(_t.a,null))})))}))},Ea=function(e,t){return r.a.createElement(sa,{fields:e,submittedFormsCount:t})},ga=function(e){var t=e.data,a=Object(n.useState)(!1),l=Object(g.a)(a,2),o=l[0],i=l[1],c=t.class,u=void 0===c?{}:c,s=u.post,m=u.attendees,d=void 0===m?[]:m,p=s.answerType,f=s.anonymous,b=s.fields,E=d.length;return s?r.a.createElement(n.Fragment,null,f?null:r.a.createElement("div",{style:{margin:10}},r.a.createElement(ha,{attendees:d}),r.a.createElement(Et.a,{style:{marginLeft:20},control:r.a.createElement(pa.a,{checked:o,color:"primary",onChange:function(e){return i(e.target.checked)}}),label:"Show answers with attendees` names"})),"text"===p?ba(b,o):"percentage"===p?Ea(b,E):"percentageAndText"===p?function(e,t){var a=t.submittedFormsCount,n=t.showNames,l=e.reduce(function(e,t){var a=t.type;return e[a]||(e[a]=[]),e[a].push(t),e},{});return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"}},ba(l.text,n),Ea(l.percentage,a))}(b,{submittedFormsCount:E,showNames:o}):null):null},va=r.a.forwardRef(function(e,t){return r.a.createElement(kt.a,Object.assign({direction:"up",ref:t},e))}),ha=function(e){var t=e.attendees,a=fa(),l=Object(n.useState)(!1),o=Object(g.a)(l,2),i=o[0],c=o[1],u=function(){return c(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(R.a,{variant:"outlined",color:"primary",onClick:function(){return c(!0)}},"Show Attendees List"),r.a.createElement(W.a,{fullScreen:!0,open:i,onClose:u,TransitionComponent:va},r.a.createElement(T.a,{className:a.appBar},r.a.createElement(A.a,null,r.a.createElement(Fe.a,{edge:"start",color:"inherit",onClick:u,"aria-label":"close"},r.a.createElement(na.a,null)),r.a.createElement(S.a,{variant:"h6",className:a.title},"Attendees List"))),r.a.createElement(ta.a,null,t.map(function(e){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(ea.a,null,r.a.createElement(Xt.a,{primary:e.name,secondary:da()(e.createdAt).format("MMMM Do YYYY, HH:mm:ss")})),r.a.createElement(_t.a,null))}))))};function ya(){var e=Object(Z.a)(["\n    subscription attendeeSubscription($classId: ID!) {\n        attendeeSubscription(classId: $classId) {\n            id\n            name\n            attendees{\n                id\n                name\n                createdAt\n            }\n            post {\n                anonymous\n                answerType\n                fields{\n                    id\n                    label\n                    type\n                    relativeClassAnswers(classId:$classId){\n                        id\n                        value\n                        author{\n                            name\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return ya=function(){return e},e}function ja(){var e=Object(Z.a)(["\n    query ClassInfoQUery($id: ID!) {\n        class(id: $id) {\n            id\n            name\n            attendees{\n                id\n                name\n                createdAt\n            }\n            post {\n                anonymous\n                answerType\n                fields{\n                    id\n                    label\n                    type\n                    relativeClassAnswers(classId:$id){\n                        id\n                        value\n                        author{\n                            name\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return ja=function(){return e},e}var Oa=Object(re.a)(ja()),wa=Object(re.a)(ya());function Ca(e){var t=e.selectedClassId,a=Object(le.c)(Oa,{variables:{id:t}}),n=a.subscribeToMore,l=Object(y.a)(a,["subscribeToMore"]);return r.a.createElement(ka,Object.assign({},l,{subscribeToMoreAttendees:function(){return n({document:wa,variables:{classId:t},updateQuery:function(e,t){var a=t.subscriptionData;if(!a.data)return e;var n=a.data.attendeeSubscription;return Object.assign({},e,{class:Object(pe.a)({},e.class,n)})}})}}))}var ka=function(e){function t(){return Object(Vt.a)(this,t),Object(Gt.a)(this,Object(Ut.a)(t).apply(this,arguments))}return Object(Ht.a)(t,e),Object(Lt.a)(t,[{key:"componentDidMount",value:function(){this.props.subscribeToMoreAttendees()}},{key:"render",value:function(){var e=this.props,t=e.data;return e.loading?r.a.createElement("div",{style:{display:"grid",height:"100%",alignItems:"center",justifyItems:"center"}},r.a.createElement(Pe.a,null)):r.a.createElement(ga,{data:t})}}]),t}(n.Component);function xa(){var e=Object(Z.a)(["\n    query PostQuery($id: ID!) {\n        post(id: $id) {\n            id\n            title\n            content\n            published\n            anonymous\n            author {\n                name\n            }\n            classes{\n                id\n                name\n                published\n            }\n        }\n    }\n"]);return xa=function(){return e},e}var Sa=Object(re.a)(xa()),Ia=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},root:{height:"100%",display:"grid",gridTemplateRows:"auto 1fr",gridGap:"2em",padding:"2em"},topSectionsWrapper:Object(I.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"2em"},e.breakpoints.down("sm"),{gridTemplateColumns:"auto",gridTemplateRows:"auto auto"}),paper:{padding:e.spacing(2),height:"100%",color:e.palette.text.secondary},item:{padding:10},selectionRoot:{"& .MuiSelect-select":{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em"}},sectionPlaceholder:{display:"grid",alignItems:"center",height:"100%"}}}),Ta=Object(h.f)(function(e){var t=e.match,a=e.history,l=t.params,o=(void 0===l?{}:l).id;if(!o)return r.a.createElement(h.a,{to:"/"});var i=Ia(),c=Object(le.c)(Sa,{variables:{id:o},options:{fetchPolicy:"network-only"}}),s=c.loading,m=c.data,d=void 0===m?{}:m,p=c.refetch,f=Object(n.useState)(""),b=Object(g.a)(f,2),E=b[0],v=b[1],y=function(){return p()},j=d.post,O=void 0===j?{}:j;if(!O)return r.a.createElement(h.a,{to:"/"});var w=O.title,C=O.content,k=O.anonymous,I=O.classes,T=void 0===I?[]:I;return r.a.createElement(n.Fragment,null,r.a.createElement(rt.a,{className:i.backdrop,open:s},r.a.createElement(lt.a,{color:"inherit"})),r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.topSectionsWrapper},r.a.createElement(x.a,{className:i.paper,elevation:6},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Title"),w),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Content"),C),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(S.a,{color:"textSecondary"},"Answers are ",k?"":"not"," anonymous"),r.a.createElement("div",null,r.a.createElement(Ue,{title:w,id:o,refresh:function(){return a.push({pathname:u,state:{shouldRefetch:!0}})}}),r.a.createElement(tt,{title:w,id:o,content:C,refresh:function(){return y()}}))),T?r.a.createElement(Ye.a,{className:i.selection,select:!0,fullWidth:!0,label:"Select class",value:E,name:"answerType",classes:{root:i.selectionRoot},onChange:function(e){var t=e.target;return v(t.value)},variant:"outlined",helperText:"Please select class to see the answers statistic"},T.map(function(e){var t=e.id,a=e.name,n=e.published;return r.a.createElement(pt.a,{key:t,value:t,style:{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em"}},a,r.a.createElement(Mt,{published:n,id:t,refresh:function(){return y()}}))})):null),r.a.createElement(x.a,{elevation:6,className:i.paper},r.a.createElement(Tt,{postId:o,selectedClassId:E,refresh:function(){return y()}}))),r.a.createElement("div",null,r.a.createElement(x.a,{elevation:6,className:i.paper},E?r.a.createElement(Ca,{selectedClassId:E}):r.a.createElement("div",{className:i.sectionPlaceholder},r.a.createElement(S.a,{variant:"h2",align:"center"},"Please select class"))))))}),Aa=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(te.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(te.a,{item:!0},r.a.createElement(x.a,{elevation:5,style:{padding:20}},r.a.createElement(S.a,{style:{margin:20},variant:"h3",align:"center"},"Thank you for your response"),r.a.createElement(_t.a,null),r.a.createElement(S.a,{style:{margin:20},variant:"h5",align:"center"},"Your response submitted successfully")))))},Na=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(te.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(te.a,{item:!0},r.a.createElement(x.a,{elevation:5,style:{padding:20}},r.a.createElement(S.a,{style:{margin:20},variant:"h3",align:"center"},"Oops time is out"),r.a.createElement(_t.a,null),r.a.createElement(S.a,{style:{margin:20},variant:"h5",align:"center"},"Sorry room is closed")))))};function $a(){var e=Object(Z.a)(["            \n    mutation CreateAttendee($name:String!, $answers:[inputAnswer!]!, $classId:ID! ) {\n        createAttendee(name:$name, answers: $answers ,classId: $classId) {\n            id\n        }\n    }\n"]);return $a=function(){return e},e}function Da(){var e=Object(Z.a)(["\n    query AnswerFormQuery($id: ID!) {\n        class(id: $id) {\n            id\n            name\n            post {\n                title\n                content\n                anonymous\n                answerType\n                id\n                fields{\n                    id\n                    label\n                    type\n                }\n            }\n            published\n\n        }\n    }\n"]);return Da=function(){return e},e}var Fa=Object(re.a)(Da()),Ra=Object(re.a)($a()),qa=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},root:{padding:"2em"}}}),Ba=Object(h.f)(function(e){var t=e.match.params,a=(void 0===t?{}:t).id,l=qa(),o=Object(vt.c)(),i=o.control,c=o.handleSubmit,u=o.errors,s=Object(le.c)(Fa,{variables:{id:a},options:{fetchPolicy:"network-only"}}),m=s.loading,p=s.data,f=void 0===p?{}:p,b=Object(le.b)(Ra),E=Object(g.a)(b,2),v=E[0],j=E[1].loading,O=Object(n.useState)(!1),w=Object(g.a)(O,2),C=w[0],k=w[1];if(!a)return r.a.createElement(h.a,{to:d});var x=f.class;if(m)return r.a.createElement(rt.a,{className:l.backdrop,open:!0},r.a.createElement(lt.a,{color:"inherit"}));if(null===x||void 0===x)return r.a.createElement(h.a,{to:d});var I=x.name,T=x.post,A=void 0===T?{}:T,N=x.published,$=A.fields,D=void 0===$?[]:$,F=A.title,q=A.content,B=A.anonymous;return!1===N?r.a.createElement(Na,null):C?r.a.createElement(Aa,null):r.a.createElement(ot.a,{fixed:!0,className:l.root},r.a.createElement(rt.a,{className:l.backdrop,open:j},r.a.createElement(lt.a,{color:"inherit"})),r.a.createElement(S.a,{variant:"h3",align:"center"},"Class ",I),r.a.createElement(S.a,{variant:"h4",align:"left"},F),r.a.createElement(S.a,{variant:"h6",align:"left"}," ",q),r.a.createElement("form",{onSubmit:c(function(e){var t=e.name,n=void 0===t?"Anonymous":t,r=Object(y.a)(e,["name"]),l=Object.keys(r).reduce(function(e,t){var a={field:{id:t},value:r[t]};return e.push(a),e},[]);v({variables:{name:n,createdAt:new Date,answers:l,classId:a}}).then(function(){return k(!0)})})},B?null:r.a.createElement(vt.a,{label:"Name",fullWidth:!0,margin:"normal",variant:"outlined",as:Ye.a,rules:{required:!0},error:!!u.name,helperText:u.name?"This field is required":"Please enter name",name:"name",defaultValue:"",control:i}),D.map(function(e){var t=e.id,a=e.label,n=e.type;return"text"===n?r.a.createElement(vt.a,{key:t,label:a,margin:"normal",variant:"outlined",as:Ye.a,rules:{required:!0},error:!!u[t],helperText:u[t]?"This field is required":"",name:t,control:i,fullWidth:!0,defaultValue:""}):"percentage"===n?r.a.createElement(vt.a,{key:t,margin:"normal",variant:"outlined",as:Ye.a,select:!0,label:a,control:i,rules:{required:!0},error:!!u[t],helperText:u[t]?"This field is required":"",name:t,fullWidth:!0,defaultValue:""},r.a.createElement(pt.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(pt.a,{value:"0"},"Zero"),r.a.createElement(pt.a,{value:"10"},"Ten"),r.a.createElement(pt.a,{value:"20"},"Twenty"),r.a.createElement(pt.a,{value:"30"},"Thirty"),r.a.createElement(pt.a,{value:"40"},"Forty"),r.a.createElement(pt.a,{value:"50"},"Fifty"),r.a.createElement(pt.a,{value:"60"},"Sixty"),r.a.createElement(pt.a,{value:"70"},"Seventy"),r.a.createElement(pt.a,{value:"80"},"Eighty"),r.a.createElement(pt.a,{value:"90"},"Ninety"),r.a.createElement(pt.a,{value:"100"},"Hundred")):"Cant find current type input"}),r.a.createElement(R.a,{color:"primary",variant:"contained",type:"submit",disabled:C},"Submit Answers")))});function Pa(){var e=Object(Z.a)(["\n    query ClassQuery($id: ID!) {\n        class(id: $id) {\n            id\n        }\n    }\n"]);return Pa=function(){return e},e}var Wa=Object(re.a)(Pa()),za=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1}}}),Ma=function(){var e=za(),t=Object(n.useState)(""),a=Object(g.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)({isError:!1,isValid:!1}),c=Object(g.a)(i,2),u=c[0],s=c[1],m=Object(le.a)(Wa,{onCompleted:function(e){var t=e.class;return s({isValid:Boolean(t&&t.id),isError:!Boolean(t&&t.id)})}}),d=Object(g.a)(m,2),p=d[0],f=d[1].loading;return Object(n.useEffect)(function(){return s({isError:!1,isValid:!1})},[l]),l&&u.isValid?r.a.createElement(h.a,{to:"/room/"+l}):r.a.createElement(n.Fragment,null,r.a.createElement(ze.a,{className:e.backdrop,open:f},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(te.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(te.a,{item:!0},r.a.createElement(S.a,{variant:"h3"}," Please specify room ID "),r.a.createElement(X.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Room ID",onChange:function(e){var t=e.target;return o(t.value)},error:u.isError,helperText:u.isError?"Please check room ID":""}),r.a.createElement(R.a,{disabled:u.isError,variant:"contained",color:"primary",onClick:function(){return p({variables:{id:l}})}},"Enter Room"))))},Va=function(){return r.a.createElement("h3",null,"Public")},La=function(){return r.a.createElement("h3",null,"Blog")},Ga=function(){return r.a.createElement("h3",null,"Protected")},Ua=function(e){try{var t=localStorage.getItem(o);if(null!==t&&void 0!==t)J(t)?(localStorage.removeItem(o),e(t)):e(t)}catch(a){console.log("")}};function Ha(e){var t=e.token,a=Object(n.useState)(t),l=Object(g.a)(a,2)[1];Object(n.useEffect)(function(){Ua(l)},[]);var f=function(e){e?localStorage.setItem(o,e):localStorage.removeItem(o)};return r.a.createElement(v.a,null,r.a.createElement(Q,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/public",component:Va}),r.a.createElement(k,{exact:!0,path:"/protected",component:Ga}),r.a.createElement(h.b,{exact:!0,path:"/",component:Va}),r.a.createElement(h.b,{exact:!0,path:s,component:La}),r.a.createElement(h.b,{exact:!0,path:c,render:function(e){return j()?r.a.createElement(h.a,{to:"/"}):r.a.createElement(de,Object.assign({},e,{refreshTokenFn:f}))}}),r.a.createElement(h.b,{exact:!0,path:i,render:function(e){return j()?r.a.createElement(h.a,{to:"/"}):r.a.createElement(je,Object.assign({},e,{refreshTokenFn:f}))}}),r.a.createElement(k,{path:m,component:Ot}),r.a.createElement(k,{path:u,component:dt}),r.a.createElement(k,{path:"/post/:id",component:Ta}),r.a.createElement(h.b,{exact:!0,path:d,component:Ma}),r.a.createElement(h.b,{exact:!0,path:p,component:Ba}),r.a.createElement(h.b,{render:function(){return r.a.createElement(x.a,{elevation:15,style:{margin:"20px 10px",padding:"20px 10px"}},r.a.createElement(S.a,{color:"textSecondary",variant:"h1",align:"center"},"Error 404"),r.a.createElement(S.a,{color:"textSecondary",variant:"h4",align:"center"},"Page not found ",r.a.createElement("span",{role:"img","aria-label":"hey"},"\ud83d\ude1e")))}}))))}var Qa=a(193),Ka=a(345),Ya=a(29),Ja=a(7),Za=new Qa.HttpLink({uri:"https://real-time-feedo-server.herokuapp.com/"}),_a=new Ya.ApolloLink(function(e,t){var a=localStorage.getItem(o);return e.setContext({headers:{Authorization:a?"Bearer ".concat(a):""}}),t(e)}).concat(Za),Xa=new Ka.a({uri:"wss://real-time-feedo-server.herokuapp.com",options:{reconnect:!0,connectionParams:{Authorization:"Bearer ".concat(localStorage.getItem(o))}}}),en=Object(Ya.split)(function(e){var t=e.query,a=Object(Ja.l)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r},Xa,_a),tn=new Qa.ApolloClient({link:Ya.ApolloLink.from([en]),cache:new Qa.InMemoryCache,connectToDevTools:!0}),an=localStorage.getItem(o),nn=function(){return r.a.createElement(b.a,{client:tn},r.a.createElement(f.a,{theme:Object(E.a)({palette:{primary:{main:"#1976d2"}}})},r.a.createElement(Ha,{token:an})))};Object(l.render)(r.a.createElement(nn,null),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.6e82e336.chunk.js.map